console.log("'Allo 'Allo!"),$(function(){PARTICLES.init()});var PARTICLES=function($){var settings={},gui=null,particles=null,windowX=null,windowY=null,windowHalfX=null,windowHalfY=null,mouseX=null,mouseY=null,stats=null,resetMe=!1,particle=null,particleList=[],places={data:[["ny",-1220,1171],["ny",-1480,1084],["ny",-2e3,1257],["ny",-1220,1171],["ny",-1220,1171],["ny",-1220,1171],["ny",-1220,1171]]},init=function(){settings={number:100,perspective:500,startDepth:20,particleDelay:5,timeMin:3.5,timeMax:7,scaleMax:2,scaleMin:.5,width:screen.width,height:screen.height,shape:0,rotation:2,spread:100,renderer:0,cameramove:!1,reset:reset,angle:0,lightZ:15300,targetActive:!1,targetX:0,targetY:0,targetXpercentage:0,targetYpercentage:0,camx:0,camy:0,camPercentY:0,camPercentX:0,regen:!0,color1:"#A3B4E8",color2:"#2D66C1",color3:"#C4D4EC",color4:"#82DFD6",color5:"#9FE4E6",text:!1},windowX=window.innerWidth,windowY=window.innerHeight,windowHalfX=windowX/2,windowHalfY=windowY/2,document.addEventListener("mousemove",onDocumentMouseMove,!1),document.addEventListener("touchstart",onDocumentTouchStart,!1),document.addEventListener("touchmove",onDocumentTouchMove,!1),window.addEventListener("resize",onWindowResize,!1),gui=new dat.GUI,gui.add(settings,"number").min(0).max(500).step(1).onFinishChange(reset),gui.add(settings,"particleDelay").min(0).max(30).step(.5).onFinishChange(reset),gui.add(settings,"startDepth").min(0).max(400).step(10).onFinishChange(reset),gui.add(settings,"perspective").min(0).max(9e4).step(500).onChange(function(){$("body").css("perspective",settings.perspective+"px"),reset()}),gui.addColor(settings,"color1").onChange(reset),gui.addColor(settings,"color2").onChange(reset),gui.addColor(settings,"color3").onChange(reset),gui.addColor(settings,"color4").onChange(reset),gui.addColor(settings,"color5").onChange(reset),gui.add(settings,"scaleMax").min(0).max(10).step(.25).onFinishChange(reset),gui.add(settings,"scaleMin").min(0).max(20).step(.25).onFinishChange(reset),gui.add(settings,"timeMin").min(0).max(20).step(.5).onFinishChange(reset),gui.add(settings,"timeMax").min(0).max(20).step(.5).onFinishChange(reset),gui.add(settings,"spread").min(0).max(1e3).step(1).onFinishChange(reset),gui.add(settings,"width"),gui.add(settings,"height"),gui.add(settings,"text").onChange(reset),gui.add(settings,"targetActive").onChange(reset),gui.add(settings,"targetX").min(-2e3).max(4e3).step(1).onFinishChange(function(){reset()}),gui.add(settings,"targetY").min(0).max(4e3).step(1).onFinishChange(function(){reset()}),gui.add(settings,"angle").listen(),gui.add(settings,"regen").onChange(reset),gui.add(settings,"reset"),stats=new Stats,stats.domElement.style.position="absolute",stats.domElement.style.top="0px",document.body.appendChild(stats.domElement),createParticles(),animate()},reset=function(){removeParticles(),createParticles()},getColor=function(){var hex=colorObj.getHexString(),newcolor="0x"+hex;return eval(newcolor)},createParticles=function(){particles=document.createElement("div"),particles.id="particles",document.body.appendChild(particles);for(var a=0;a<settings.number;a++){settings.text?$("#particles").append('<div id="part'+a+'" class="hex1 hexagon-wrapper"><div id="partcontent'+a+'" class="particle-color hexagon"><h1>Happy Holidays</h1></div></div>'):$("#particles").append('<div id="part'+a+'" class="hex1 hexagon-wrapper"><div id="partcontent'+a+'" class="particle-color hexagon"></div></div>'),particleList.push(particle);var b=document.getElementById("part"+a);initParticle(b,a)}},initParticle=function(a,b){var c=Math.round(settings.width-Math.random()*settings.width),d=Math.round(settings.height/4-Math.random()*settings.height/4),e=Math.round(Math.random()*settings.startDepth+100),f=360*Math.round(1*Math.random()),g=360*Math.round(1*Math.random()),h=360*Math.round(1*Math.random()),i=Math.random()*(settings.scaleMax-settings.scaleMin)+settings.scaleMin,j=Math.random()*(settings.timeMax-settings.timeMin)+settings.timeMin,k=Math.random()*settings.particleDelay,l=Math.floor(Math.random()*places.data.length),m=settings["color"+(Math.floor(5*Math.random())+1)],n=places.data[l][1],o=places.data[l][2],p=.01*Math.round(100*Math.random());$("#partcontent"+b).css("background-color",m),$(a>"div").removeClass("particle-color"),TweenLite.set(a,{rotationZ:f,rotationX:g,rotationY:h,scaleX:i,scaleY:i,x:c,y:d,z:e,opacity:p}),settings.targetActive?TweenLite.to(a,j,{rotationZ:0,rotationX:0,rotationY:0,scaleX:i,scaleY:i,x:settings.targetX,y:settings.targetY,z:-1e3,opacity:1,transformOrigin:"left 50% -5"}):TweenLite.to(a,j,{ease:Back.easeIn.config(1.7),x:n-(Math.random()*settings.spread-settings.spread),y:o-(Math.random()*settings.spread-settings.spread),scaleX:1,scaleY:1,rotationX:0,rotationY:0,rotationZ:0,z:-1e3,delay:k,transformOrigin:"left 50% -5"})},removeParticles=function(){for(var a=particleList.length,b=0;a>b;b++)$("#part"+b).remove();particleList=[]},onDocumentMouseMove=function(a){mouseX=a.clientX,mouseY=a.clientY},onDocumentTouchStart=function(a){1==a.touches.length&&(a.preventDefault(),mouseX=a.touches[0].pageX-windowHalfX,mouseY=a.touches[0].pageY-windowHalfY)},onDocumentTouchMove=function(a){1==a.touches.length&&(a.preventDefault(),mouseX=a.touches[0].pageX-windowHalfX,mouseY=a.touches[0].pageY-windowHalfY)},onWindowResize=function(){windowX=window.innerWidth,windowY=window.innerHeight,windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2},animate=function(){1==resetMe?resetMe=!1:(requestAnimationFrame(animate),render(),stats.update())},render=function(){settings.angle=(settings.angle+1)%360,settings.cameramove&&(settings.camx+=.05*(mouseX-settings.camx),settings.camy+=.05*(-mouseY-settings.camy),settings.camPercentX=100*mouseX/windowX,settings.camPercentY=100*mouseY/windowY)};return{init:init}}(jQuery);